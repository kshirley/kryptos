---
title: "Kryptos Introduction"
author: "Kenny Shirley"
date: "September 1, 2019"
output: 
  html_document:
    smart: FALSE
    toc: TRUE
    theme: readable
editor_options: 
  chunk_output_type: console
---

```{r global-options, include = FALSE}
## Global options
knitr::opts_chunk$set(echo = TRUE, 
                      warning = FALSE, 
                      message = FALSE, 
                      cache = FALSE, 
                      comment = "")
```

```{r set-options, echo=FALSE}
#setwd("~/misc/kryptos")
options(width = 80)
library(dplyr,      quietly = TRUE)
library(knitr,      quietly = TRUE)
library(tidyr,      quietly = TRUE)
library(data.table, quietly = TRUE)
library(ggplot2,    quietly = TRUE)
library(plotly,     quietly = TRUE)
```

# What is Kryptos?

Kryptos is a sculpture at the CIA headquarters in Langley, VA, that was installed in 1990. It was created by the American artist Jim Sanborn, who collaborated with a cryptographer named Ed Scheidt to encode 4 secret messages into the sculpture. Three of the secret messages have been decrypted, and one is still unsolved (as of 2019).

Here is a picture of the sculpture (from wikipedia):

<img src = 'picture_of_sculpture.jpg'>

For more background information, check out

- The [Kryptos wikipedia page](https://en.wikipedia.org/wiki/Kryptos)

- Elonka Dunin's [Kryptos website](https://elonka.com/kryptos/), and especially the [FAQ page](https://elonka.com/kryptos/faq.html).

- This [more recent summary](http://numberworld.blogspot.com/2017/03/kryptos-cipher-part-1.html) of Kryptos by Christian Schridde.

# The Data

There are two parts to the Kryptos sculpture: the ciphertext, and the Vigenere Table.

## The Ciphertext

The ciphertext contains 869 characters, consisting of uppercase characters from A to Z, and 4 question marks. The ciphertext is written across 28 rows, which are split into two blocks of 14 rows each. The number of characters per row ranges from 29 to 33. There are three letters, the "Y", "A", and "R" in positions 4, 5, and 7 of row 15 that are noticeably (and intentionally, according to Jim Sanborn) raised slightly above the level of all the other letters in that row. (Nobody knows what, if anything, that means.)

``` {r read-cipher}
# read in the ciphertext:
cipher_text <- readLines("ciphertext.txt")
```

<pre>
 1 EMUFPHZLRFAXYUSDJKZLDKRNSHGNFIVJ
 2 YQTQUXQBQVYUVLLTREVJYQTMKYRDMFD
 3 VFPJUDEEHZWETZYVGWHKKQETGFQJNCE
 4 GGWHKK?DQMCPFQZDQMMIAGPFXHQRLG
 5 TIMVMZJANQLVKQEDAGDVFRPJUNGEUNA
 6 QZGZLECGYUXUEENJTBJLBQCRTBJDFHRR
 7 YIZETKZEMVDUFKSJHKFWHKUWQLSZFTI
 8 HHDDDUVH?DWKBFUFPWNTDFIYCUQZERE
 9 EVLDKFEZMOQQJLTTUGSYQPFEUNLAVIDX
10 FLGGTEZ?FKZBSFDQVGOGIPUFXHHDRKF
11 FHQNTGPUAECNUVPDJMQCLQUMUNEDFQ
12 ELZZVRRGKFFVOEEXBDMVPNFQXEZLGRE
13 DNQFMPNZGLFLPMRJQYALMGNUVPDXVKP
14 DQUMEBEDMHDAFMJGZNUPLGEWJLLAETG
15 ENDYAHROHNLSRHEOCPTEOIBIDYSHNAIA
16 CHTNREYULDSLLSLLNOHSNOSMRWXMNE
17 TPRNGATIHNRARPESLNNELEBLPIIACAE
18 WMTWNDITEENRAHCTENEUDRETNHAEOE
19 TFOLSEDTIWENHAEIOYTEYQHEENCTAYCR
20 EIFTBRSPAMHHEWENATAMATEGYEERLB
21 TEEFOASFIOTUETUAEOTOARMAEERTNRTI
22 BSEDDNIAAHTTMSTEWPIEROAGRIEWFEB
23 AECTDDHILCEIHSITEGOEAOSDDRYDLORIT
24 RKLMLEHAGTDHARDPNEOHMGFMFEUHE
25 ECDMRIPFEIMEHNLSSTTRTVDOHW?OBKR
26 UOXOGHULBSOLIFBBWFLRVQQPRNGKSSO
27 TWTQSJQSSEKZZWATJKLUDIAWINFBNYP
28 VTTMZFPKWGDKZXTJCDIGKUHUAUEKCAR
</pre>


## The Vigenere Table

The Vigenere table contains 866 characters, arranged into 28 rows (just like the ciphertext), where the top and bottom rows are just the 26-letter alphabet (padded out with a "ABCD" at the end to make 30 characters), and the leftmost "columns" of letters is also the alphabet ordered from A to Z. The "inner" grid of 26 rows and 30 columns is the length-26 sequence of letters "KRYPTOSABCDEFGHIJLMNQUVWXZ", padded out to length 30 by repeating the first four characters, where each row is shifted one character to the left. See below:

``` {r read-vigenere}
# read in the ciphertext:
vigenere_table <- readLines("vigenere_table.txt")
```

<pre>
 1  ABCDEFGHIJKLMNOPQRSTUVWXYZABCD
 2 AKRYPTOSABCDEFGHIJLMNQUVWXZKRYP
 3 BRYPTOSABCDEFGHIJLMNQUVWXZKRYPT
 4 CYPTOSABCDEFGHIJLMNQUVWXZKRYPTO
 5 DPTOSABCDEFGHIJLMNQUVWXZKRYPTOS
 6 ETOSABCDEFGHIJLMNQUVWXZKRYPTOSA
 7 FOSABCDEFGHIJLMNQUVWXZKRYPTOSAB
 8 GSABCDEFGHIJLMNQUVWXZKRYPTOSABC
 9 HABCDEFGHIJLMNQUVWXZKRYPTOSABCD
10 IBCDEFGHIJLMNQUVWXZKRYPTOSABCDE
11 JCDEFGHIJLMNQUVWXZKRYPTOSABCDEF
12 KDEFGHIJLMNQUVWXZKRYPTOSABCDEFG
13 LEFGHIJLMNQUVWXZKRYPTOSABCDEFGH
14 MFGHIJLMNQUVWXZKRYPTOSABCDEFGHI
15 NGHIJLMNQUVWXZKRYPTOSABCDEFGHIJL
16 OHIJLMNQUVWXZKRYPTOSABCDEFGHIJL
17 PIJLMNQUVWXZKRYPTOSABCDEFGHIJLM
18 QJLMNQUVWXZKRYPTOSABCDEFGHIJLMN
19 RLMNQUVWXZKRYPTOSABCDEFGHIJLMNQ
20 SMNQUVWXZKRYPTOSABCDEFGHIJLMNQU
21 TNQUVWXZKRYPTOSABCDEFGHIJLMNQUV
22 UQUVWXZKRYPTOSABCDEFGHIJLMNQUVW
23 VUVWXZKRYPTOSABCDEFGHIJLMNQUVWX
24 WVWXZKRYPTOSABCDEFGHIJLMNQUVWXZ
25 XWXZKRYPTOSABCDEFGHIJLMNQUVWXZK
26 YXZKRYPTOSABCDEFGHIJLMNQUVWXZKR
27 ZZKRYPTOSABCDEFGHIJLMNQUVWXZKRY
28  ABCDEFGHIJKLMNOPQRSTUVWXYZABCD
</pre>

Note that row 15 has an extra character, an "L", at the end. Nobody knows if this was intentional, and, if so, what it means.

# Reproducing the solutions to K1-K3

There are 4 sections of the Kryptos sculpture: K1, K2, K3, and K4. This wasn't known when the sculpture was built, of course, but now that the K1-3 have been solved, we know for sure that there are 4 parts, and we know exactly where each one begins and ends.

K1 and K2 were encoded using a "Keyed Vigenere" cipher, and K3 was encoded using some sort of transposition cipher. In the next three notebooks, we'll reproduce the solutions to all three parts.















